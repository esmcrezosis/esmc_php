<div id="view-content" style="font-size:11px">
    <div  class="cntError">
        <?php
        echo $this->message;
        ?>
    </div>
    <table id="tbl-smcipnp"></table>
    <div id="pg-smcipnp"></div>
</div>


<script type="text/javascript">
    $("#tbl-smcipnp").jqGrid({
        url:'<?php echo $this->url(array('action' => 'listsendsmcipnp')); ?>',
        editurl:'',
        datatype: "json",
        mtype: 'GET',
        colNames:['Code','Code membre','Raison sociale','Date','Montant salaire','Mt Investissement'],
        height:450, width:815,
        colModel:[
          {name:'code_smcipnp',index:'code_smcipnp', width:85, align:"left", hidden:true},
          {name:'code_membre',index:'code_membre', width: 135, editable: true,align:"left", summaryType: 'count', summaryTpl: 'Total ({0})'},
          {name:'raison_sociale',index:'raison_sociale', width: 200, align:"left", editable: false},
          {name:'date_smcipnp',index:'date_smcipnp', width: 90, align:"left", editable: false},
          {name:'mt_salaire',index:'mt_salaire', width: 120, align:"right",sorttype:'number',formatter:'number',summaryType:'sum'},
          {name:'mt_investis',index:'mt_investis', width: 120, align:"right",sorttype:'number',formatter:'number',summaryType:'sum'},
        ],
        rowNum:400,
        rowList:[100,200,500],
        rownumbers:true,
        pager: '#pg-smcipnp',
        sortname:"code_smcipnp",
        viewrecords: true,
        multiselect:false,
        sortorder: "ASC",
        caption:"Liste des demandes de la SMCIPNP",
        grouping: true,
        groupingView : {
            groupField : ['raison_sociale'],
            groupColumnShow : [true],
            groupText : ['<b>{0}</b>'],
            groupCollapse : false,
            groupOrder: ['asc'],
            groupSummary : [true],
            groupDataSorted : true
        },
        footerrow: true,
        userDataOnFooter: true
    });
  
    $("#tbl-smcipnp").jqGrid('navGrid','#pg-smcipnp',{edit:false,add:false,del:false,search:true});

</script>
